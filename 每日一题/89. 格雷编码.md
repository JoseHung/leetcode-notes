# 89. 格雷编码

[89. 格雷编码]: https://leetcode-cn.com/problems/gray-code	"格雷编码"

### 题目描述

**n 位格雷码序列** 是一个由 `2^n` 个整数组成的序列，其中：

- 每个整数都在范围 `[0, 2n - 1]` 内（含 `0` 和 `2n - 1`）
- 第一个整数是 `0`
- 一个整数在序列中出现 不超过一次
- 每对 相邻 整数的二进制表示 恰好一位不同 ，且
- 第一个 和 最后一个 整数的二进制表示 恰好一位不同
- 给你一个整数 n ，返回任一有效的 n 位格雷码序列 。

- 每个整数都在范围 `[0, 2n - 1]` 内（含 `0` 和 `2n - 1`）
- 第一个整数是 `0`
- 一个整数在序列中出现 **不超过一次**
- 每对 **相邻** 整数的二进制表示 **恰好一位不同** ，且
- **第一个** 和 **最后一个** 整数的二进制表示 **恰好一位不同**

给你一个整数 `n` ，返回任一有效的 **n 位格雷码序列** 。

**示例 1**：

**输入**：n = 2
**输出**：[0,1,3,2]
**解释**：
[0,1,3,2] 的二进制表示是 [00,01,11,10] 。

0***0*** 和 0***1*** 有一位不同

***0***1 和 ***1***1 有一位不同

1***1*** 和 1***0*** 有一位不同

***1***0 和 ***0***0 有一位不同

[0,2,3,1] 也是一个有效的格雷码序列，其二进制表示是 [00,10,11,01] 。

***0***0 和 ***1***0 有一位不同

1***0*** 和 1***1*** 有一位不同

***1***1 和 ***0***1 有一位不同

0***1*** 和 0***0*** 有一位不同



**示例 2**：

**输入**：n = 1
**输出**：[0,1]



**提示**：

1 <= n <= 16



### 解题思路

1. 维护一个变量 `cur` ，其初始值为1；

2. `res` 数组中存放着运行结果，初始值为[0]；
3. 由于格雷编码的特性，我们只需要对 `res` 结果数组中已有的编码的二进制首位加上1（即 `res[j] + cur`），然后倒序地存入 `res` 数组中即可；
4. `cur` 左移一位；
5. 得到结果。

如下表所示：

| n=0  | n=1 cur=1 | n=2 cur=10 | n=3 cur=100 |
| :--: | :-------: | :--------: | :---------: |
|  0   |     0     |     00     |     000     |
|      |     1     |     01     |     001     |
|      |           |     11     |     011     |
|      |           |     10     |     010     |
|      |           |            |     110     |
|      |           |            |     111     |
|      |           |            |     101     |
|      |           |            |     100     |



### 代码

JavaScript

```js
/**
 * @param {number} n
 * @return {number[]}
 */
var grayCode = function(n) {
    let res = [0];
    let cur = 1;
    for(let i = 0; i < n; i++) {
        for(let j = res.length - 1; j >= 0; j--) {
            res.push(cur + res[j]);
        }
        cur <<= 1;
    }
    return res;
};

```

